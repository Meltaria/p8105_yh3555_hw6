p8105_yh3555_hw6
================
Yuchen Hua
2022-11-28

## Problem 2

Import data

``` r
homicide = read.csv("./data./homicide-data.csv")
```

Date cleaning

``` r
homicide = homicide %>%
  select(-uid, -reported_date, -victim_last, -victim_first, -lat, -lon)%>%
  mutate(city_state = str_c(city, ",", state)) %>%
  mutate(city_state = as.factor(city_state)) %>%
  mutate(victim_age = as.numeric(victim_age)) %>%
  group_by(city_state, disposition) %>% 
  filter(!city_state %in% c("Dallas,TX", "Phoenix,AZ", "Kansas City,MO", "Tulsa,AL")) %>%
  filter(victim_race %in% c("Black", "White")) %>%
  mutate(status = ifelse(disposition %in% c("Closed by arrest"), 1, 0))
```

    ## Warning in mask$eval_all_mutate(quo): 强制改变过程中产生了NA

``` r
homicide
```

    ## # A tibble: 39,693 × 8
    ## # Groups:   city_state, disposition [135]
    ##    victim_race victim_age victim_sex city        state disposit…¹ city_…² status
    ##    <chr>            <dbl> <chr>      <chr>       <chr> <chr>      <fct>    <dbl>
    ##  1 White               15 Female     Albuquerque NM    Closed wi… Albuqu…      0
    ##  2 White               72 Female     Albuquerque NM    Closed wi… Albuqu…      0
    ##  3 White               91 Female     Albuquerque NM    Open/No a… Albuqu…      0
    ##  4 White               56 Male       Albuquerque NM    Open/No a… Albuqu…      0
    ##  5 White               NA Male       Albuquerque NM    Closed wi… Albuqu…      0
    ##  6 White               43 Female     Albuquerque NM    Closed by… Albuqu…      1
    ##  7 White               52 Male       Albuquerque NM    Closed by… Albuqu…      1
    ##  8 White               22 Female     Albuquerque NM    Closed by… Albuqu…      1
    ##  9 Black               15 Male       Albuquerque NM    Closed by… Albuqu…      1
    ## 10 Black               25 Male       Albuquerque NM    Closed by… Albuqu…      1
    ## # … with 39,683 more rows, and abbreviated variable names ¹​disposition,
    ## #   ²​city_state

If the case was closed by arrested, which was solved, it would be
labelled as 1. If Open/No arrest or Closed without arrest, it would be
labelled as 0.

For Baltimore,MD
